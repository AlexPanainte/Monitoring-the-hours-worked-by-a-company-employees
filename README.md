# Monitoring-the-hours-worked-by-a-company-employees

Background:

This is python program that allows monitoring the hours worked by employees of a company. The data received as a parameter comes from access points (Poarta1, Poarta2) from an office building.
Any person, in order to enter the building, or to exit, must validate the access card. By validation, the ID of the person holding the card, the time of validation and the direction (entry or exit) are obtained. 

In the building there can be 2 types of entry and exit registrations:
- The first type saves all this data in a text or csv file which have the same structure
- The second type of entry, sends in real time to the server the entries and exits through the internet, in json format.
  
Project content:

1. A functionality has been created where an administrator can register users.  Users will be saved in a database table where we will register ID, Name, Surname, Company, IdManager. These details are sent via a request form through a FLASK server where all the necessary details are sent.

2.	A web page has been created through which one can choose the option to register users or view the list of users.
   
3.	The first type of pass registration: 

  o In the project will exist a folder named "entries" where building administrators will upload the files generated by the first type of gates.:
       The file names will have the format Poarta[gate_number].[file_type] (e.g. Poarta1.txt/Poarta2.csv). 
          - The name of the gate for each entry is saved in the database. 
          - The program reads the file as soon as it appears. and checks at every iteration if there are new files in the entries folder.
          - The program will read each file in that directory, load the data into the database, in the "access" table.
          - and afterwards it will move and rename the file in the format Poarta[gate_number][current_date].[file_type] in a directory named backup_entries. (e.g. Poarta1-2023-08-23.txt).
          
4.	The second type of record: 

- At the program level, an endpoint has been created that receives as a parameter a json with the following format and saves it to the database:
 
{
     “data”:”2023-05-21T13:49:51.141Z”,
     "sense": "in",
     "idPerson":10,
     "gateid":1
}

5.  A functionality has been created to run daily, after 20:00, and calculates the number of hours worked by each employee, based on the entries and exits recorded at the gates. 

    o For each employee who has not worked 8 hours in a day, an email will be sent to the employee's manager with the time worked and the time to be made up.
